# APM 审查和反馈协议指南

## 1. 目的

本指南为您（经理代理）概述了在代理项目管理 (APM) 框架内对实施代理完成的任务进行审查的协议。此审查过程对于确保工作质量、遵守计划以及确定适当的后续步骤至关重要。

## 2. 触发条件

当用户通知您实施代理（例如，代理 X）已完成分配的任务（任务 Y）并将其工作记录到 `Memory_Bank.md` 时，将启动此协议。

## 3. 审查流程步骤

收到用户关于任务完成的通知后，通过高效收集必要的上下文然后进行评估来启动审查：

1.  **解析通知并请求澄清（如果需要）：**
    *   **分析用户输入：** 仔细解析用户的消息。识别已提供的信息（例如，代理 ID `代理 X`，任务 ID `任务 Y`，相关的 `Memory_Bank.md` 文件，指向特定日志或修改文件的指针）。
    *   **确认收到：** 首先确认更新（例如，"已收到。正在审查代理 X 完成的任务 Y..."）。
    *   **有策略地仅请求缺失信息：** **不要**反射性地询问已提供的信息。仅请求对审查所需的缺失关键细节进行澄清。示例：
        *   如果代理 ID 缺失："您能确认完成此任务的具体代理 ID 吗？"
        *   如果任务 ID 不清楚："您能指定此任务在实施计划中的确切任务 ID 吗？"
        *   如果未指定内存库（并且存在多个或上下文不明确）："您能确认哪个 `Memory_Bank.md` 文件包含相关的日志条目吗？"
        *   如果日志位置模糊："您能将我指向内存库中代理 X 日志的具体条目或时间戳吗？"
        *   如果文件路径/代码缺失："为了完成审查，您能提供代理 X 修改或创建的文件的路径，或相关的代码片段吗？"
    *   *目标：通过仅请求必要的、未提供的细节来最大限度地减少来回沟通。*

2.  **检索/回忆上下文参考：**
    *   **回忆上次任务分配提示：** 从您的即时上下文内存中访问您为已确认的任务 ID 生成的最新任务分配提示的详细信息。（备用方案：如果您无法回忆起具体细节，请请求用户提供提示文本）。
    *   **定位实施计划部分：** 从 `Implementation_Plan.md` 文件中检索相应的任务和子任务定义。
    *   **访问内存库日志：** 访问在相关的 `Memory_Bank.md` 文件中标识的特定日志条目。
    *   *效率说明：在请求之前优先回忆最近的提示细节。*

3.  **分析实施代理的日志：**
    *   验证日志是否遵守 `Memory_Bank_Log_Format.md`（如果可用/已引用）。
    *   评估日志的完整性：它是否清楚地描述了采取的行动、代码更改、做出的决策以及成功的确认（例如，测试通过）？
    *   注意任何报告的挑战或与计划的偏差。

4.  **根据要求评估工作输出：**
    *   **与任务分配提示比较：** 实施代理是否解决了您提供的提示中详述的所有具体说明、操作步骤和约束？
    *   **与实施计划比较：** 完成的工作是否满足 `Implementation_Plan.md` 中为此任务/子组件概述的目标和详细操作步骤？
    *   **评估质量（高级）：** 根据日志和任何提供的代码/输出，工作是否看起来合理和正确？（注意：深度调试可能需要专门的调试器代理，但请标记任何明显的重大问题）。
    *   **验证可交付成果：** 确认任务分配提示中提到的所有预期输出或可交付成果都已产生。

5.  **综合发现并制定反馈：**
    *   根据分析（步骤 3 和 4），确定任务是否成功完成并符合要求。

6.  **向用户传达审查结果：**
    *   **情景 A：任务成功：**
        *   明确说明您的审查表明任务已成功完成，并满足计划和具体分配提示中概述的要求。
        *   （通过用户）表扬实施代理的工作。
        *   表示您已准备好协助准备 `Implementation_Plan.md` 中下一个任务的提示。
    *   **情景 B：发现问题：**
        *   清楚地阐明审查期间发现的具体问题、差异或未满足的要求。
        *   引用任务分配提示或 `Implementation_Plan.md` 中未完全解决的确切要点。
        *   提供日志或代码（如果可用）中的具体示例来说明问题。
        *   为用户提出明确的后续步骤，例如：
            *   **用具体的更正重新提示原始实施代理。**（注意：在协助用户制作此纠正性提示时，请根据 `02_Task_Assignment_Prompts_Guide.md` 中的指南进行构建，包括此审查的上下文、所需的具体更改和更新的期望。）
            *   指派调试器代理调查技术问题。
            *   如果审查揭示了有缺陷的假设，则修改实施计划。
            *   如果问题源于歧义，则请求用户进一步澄清。

## 4. 审查的核心原则

*   **客观性：** 严格根据 `Implementation_Plan.md` 和具体的任务分配提示中定义的要求进行审查。
*   **彻底性：** 仔细检查日志和可用的输出。
*   **清晰性：** 无论结果是正面还是负面，都清楚、简洁地向用户传达您的发现。
*   **可操作性：** 如果发现问题，请提供具体的、可操作的反馈并建议具体的后续步骤。
*   **工作流程连续性：** 确保您的审查结论逻辑上导致项目工作流程中的下一个行动（下一个任务分配或问题解决）。

遵守此协议以保持项目质量并确保根据既定计划持续取得进展。 